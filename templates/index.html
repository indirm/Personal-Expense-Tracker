<!DOCTYPE html>
<html>
<head>
  <title>Expense Tracker</title>
  <style>
    body {font-family: Arial; margin: 2rem; background: #f9f9f9;}
    table {width: 100%; border-collapse: collapse; margin: 1rem 0;}
    th, td {border: 1px solid #ddd; padding: 0.5rem; text-align: left;}
    th {background: #f0f0f0;}
    button {background: #4caf50; color: white; padding: 0.5rem 1rem; border: none; border-radius: 4px; cursor: pointer;}
    a {color: #1976d2; text-decoration: none;}
  </style>
</head>
<body>
  <h1>Personal Expense Tracker</h1>
  <a href="/add"><button>Add Expense</button></a>
  <table>
    <tr><th>Date</th><th>Description</th><th>Amount</th><th>Category</th><th>Action</th></tr>
    {% for e in expenses %}
    <tr>
      <td>{{ e.date }}</td>
      <td>{{ e.description }}</td>
      <td>${{ "%.2f"|format(e.amount) }}</td>
      <td>{{ e.category }}</td>
      <td><a href="/delete/{{ e.id }}" onclick="return confirm('Delete?')">Delete</a></td>
    </tr>
    {% endfor %}
  </table>
  <p><strong>Total: ${{ "%.2f"|format(total) }}</strong></p>
</body>
</html>